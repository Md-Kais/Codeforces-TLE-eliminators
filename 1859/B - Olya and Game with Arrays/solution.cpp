// Problem: B. Olya and Game with Arrays// Contest: Codeforces - Codeforces Round 892 (Div. 2)// URL: https://codeforces.com/problemset/problem/1859/B// VOIDHUNTER//// Powered by CP Editor (https://cpeditor.org) #include <bits/stdc++.h>using namespace std; // define sections.#define int long long#define eb emplace_back#define F first#define S second#define endl '\n'#define all(a) (a).begin(), (a).end()#define sz(x) (int)x.size()#define mx_int_prime 999999937 // using sectionsusing ll = long long;using ull = unsigned long long;using ld = long double; using pii = pair<int, int>;using pll = pair<ll, ll>; using vi = vector<int>;using vll = vector<ll>; // constant sectionsconst double PI = acos(-1);const double eps = 1e-9;const int inf = 1e9 + 100;const ll infLL = 4e18;#define MOD 1000000007#define optimize()                                                                                 \    ios_base::sync_with_stdio(0);                                                                  \    cin.tie(0);                                                                                    \    cout.tie(0);#define file()                                                                                     \    freopen("input.txt", "r", stdin);                                                              \    freopen("output.txt", "w", stdout);ll gcd(ll a, ll b) {    return b ? gcd(b, a % b) : a;}ll lcm(ll a, ll b) {    return a / gcd(a, b) * b;}ll mod_add(ll a, ll b) {    return (a + b) % MOD;}ll mod_sub(ll a, ll b) {    return (a - b + MOD) % MOD;}ll mod_mul(ll a, ll b) {    return (a * b) % MOD;}ll mod_pow(ll a, ll b) {    ll res = 1;    while (b) {        if (b & 1)            res = mod_mul(res, a);        a = mod_mul(a, a);        b >>= 1;    }    return res;} int bigMOD(int a, int n, int mod) {    int ans = 1;    a %= mod;    if (a < 0)        a += mod;    while (n) {        if (n & 1)            ans = ((ll)ans * a) % mod;        a = ((ll)a * a) % mod;        n >>= 1;    }    return ans;} signed main() {    optimize();    // #ifndef ONLINE_JUDGE    // file();    // #endif     int t = 1;    cin >> t;    while (t--) {        int n;        cin >> n;        vector<int> mini;        vector<int> sec;        for (int i = 0; i < n; i++) {            int x;            cin >> x;            int a[x + 1];            for (int j = 0; j < x; j++) {                cin >> a[j];            }            sort(a, a + x);            mini.eb(a[0]);            sec.eb(a[1]);        }        sort(mini.begin(), mini.end());        sort(sec.begin(), sec.end());        ll ans = 0;        for (int i = 1; i < n; i++) {            ans += sec[i];        }        ans += mini[0];        cout << ans << endl;    }    return 0;}